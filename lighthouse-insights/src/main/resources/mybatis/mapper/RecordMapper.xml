<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dtstep.lighthouse.insights.dao.RecordDao">

    <resultMap id="recordResultMap" type="com.dtstep.lighthouse.insights.modal.Record">
        <result column="id" property="id"/>
        <result column="user_id" property="userId"/>
        <result column="resource_id" property="resourceId"/>
        <result column="resource_type" property="resourceType" typeHandler="com.dtstep.lighthouse.insights.types.ResourceTypeEnumTypeHandler"/>
        <result column="record_type" property="recordType" typeHandler="com.dtstep.lighthouse.insights.types.RecordTypeEnumTypeHandler"/>
        <result column="desc" property="desc"/>
        <result column="record_time" property="recordTime"/>
    </resultMap>

    <insert id="insert" useGeneratedKeys="true" keyProperty="id" parameterType="com.dtstep.lighthouse.insights.modal.Record" >
        INSERT INTO ldp_history_record (`user_id`,`resource_id`,`resource_type`,`record_type`,`desc`,`record_time`) VALUES
        (
            #{userId,jdbcType=INTEGER},
            #{resourceId,jdbcType=INTEGER},
            #{resourceType,jdbcType=INTEGER,typeHandler=com.dtstep.lighthouse.insights.types.ResourceTypeEnumTypeHandler},
            #{recordType,jdbcType=INTEGER,typeHandler=com.dtstep.lighthouse.insights.types.RecordTypeEnumTypeHandler},
            #{desc,jdbcType=VARCHAR},
            #{recordTime,jdbcType=TIMESTAMP}
        )
    </insert>
</mapper>